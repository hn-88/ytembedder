<!--
   index.html
   
   First commit 7 Sep 2024 github.com/hn-88/ 
   
   This program is free software; you can redistribute it and/or modify
   it under the terms of the MIT License. 

   The skeleton of the form was generated with Geany and ChatGPT.
   
   
-->

<!DOCTYPE html >
<html lang="en">

<head>
	<title>Youtube embedder</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	
  
</head>

<body>
  <h2>Enter a URL to Embed</h2>

    <!-- URL Input Form -->
    <form id="urlForm" onsubmit="return embedURL();">
        <label for="urlInput">URL:</label>
        <input type="text" id="urlInput" placeholder="Enter a valid Youtube URL" required>
        <button type="submit">Submit</button>
    </form>

    <br><br>

    <!-- div to display the URL -->
    <div id="urlFrame" ></div>

    <script>
        function extractYouTubeVideoID(url) {
          // generated by ChatGPT
          let videoID = null;
      
          // Handle short URLs (youtu.be)
          const shortUrlPattern = /youtu\.be\/([a-zA-Z0-9_-]{11})/;
      
          // Handle long URLs (youtube.com/watch?v=)
          const longUrlPattern = /(?:youtube\.com\/.*v=|youtube\.com\/embed\/|youtube\.com\/v\/)([a-zA-Z0-9_-]{11})/;
      
          // Check for short URL pattern
          if (shortUrlPattern.test(url)) {
              videoID = url.match(shortUrlPattern)[1];
          }
          // Check for long URL pattern
          else if (longUrlPattern.test(url)) {
              videoID = url.match(longUrlPattern)[1];
          }

            return videoID;
        }
      
        function embedURL() {
            // Get the entered URL from the input field
            var initurl = document.getElementById('urlInput').value;
            var url = "https://www.youtube.com/embed/" + extractYouTubeVideoID(initurl);
            
            // Set the URL as the innerhtml attribute of the div
            document.getElementById('urlFrame').innerhtml = "<a href='" + url + "' target='_blank'>" + url + "</a>";

            // Prevent the form from refreshing the page
            return false;
        }
    </script>

 
	
</body>

</html>
